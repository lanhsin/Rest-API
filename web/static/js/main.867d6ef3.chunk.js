(this["webpackJsonppemgr-web"]=this["webpackJsonppemgr-web"]||[]).push([[0],{436:function(e,t,r){},437:function(e,t,r){},460:function(e,t,r){},530:function(e,t,r){"use strict";r.r(t);var s=r(0),n=r.n(s),a=r(20),c=r.n(a),i=(r(436),r(437),r(35)),l=r(83),d=r(84),u=r(86),o=r(87),j=r(179),h=r(153),b=r(2),O=function(e){Object(u.a)(r,e);var t=Object(o.a)(r);function r(){return Object(l.a)(this,r),t.apply(this,arguments)}return Object(d.a)(r,[{key:"render",value:function(){return Object(b.jsxs)(j.a,{bg:"dark",variant:"dark",expand:"lg",children:[Object(b.jsx)(j.a.Brand,{href:"/",children:"Debug Utility"}),Object(b.jsx)(j.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(b.jsx)(j.a.Collapse,{id:"basic-navbar-nav",children:Object(b.jsxs)(h.a,{className:"mr-auto",children:[Object(b.jsx)(h.a.Link,{href:"/network",children:"Network"}),Object(b.jsx)(h.a.Link,{href:"/test",children:"Test"}),Object(b.jsx)(h.a.Link,{href:"/log",children:"Log"}),Object(b.jsx)(h.a.Link,{href:"/docs/index.html",children:"Docs"})]})})]})}}]),r}(s.Component),p=O,f=r(176),x=r(92),m=r(53),v=r.n(m),g=r(221),S=r.n(g),w=r(177),y=r(54),P=r(72),k=r(150),I=r(125),N=r(80),R=r(81),C=r(32);function T(e){return Object(b.jsxs)(N.a,{striped:!0,borderless:!0,hover:!0,size:"sm",variant:"dark",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Version"}),Object(b.jsx)("th",{children:"Commit"}),Object(b.jsx)("th",{children:"Date"})]})}),Object(b.jsx)("tbody",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:e.item.result.Version}),Object(b.jsx)("td",{children:e.item.result.Commit}),Object(b.jsx)("td",{children:e.item.result.Date})]})})]})}function A(e){return Object(b.jsxs)(n.a.Fragment,{children:[Object(b.jsx)("td",{children:e.result.SensorNumber}),Object(b.jsx)("td",{children:e.result.Name}),Object(b.jsx)("td",{children:e.result.ReadingCelsius}),Object(b.jsx)("td",{children:"Celsius"}),Object(b.jsxs)("td",{children:[e.result.Status.State,"/",e.result.Status.Health]})]})}function V(e){return Object(b.jsxs)(N.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Sensor#"}),Object(b.jsx)("th",{children:"Name"}),Object(b.jsx)("th",{children:"Reading"}),Object(b.jsx)("th",{children:"Unit"}),Object(b.jsx)("th",{children:"Statue"})]})}),Object(b.jsx)("tbody",{children:e.item.result.map((function(e){return Object(b.jsx)("tr",{children:Object(b.jsx)(A,{result:e})},e.Name+"tr")}))})]})}function U(e){var t=Object(s.useState)(!1),r=Object(f.a)(t,2),n=r[0],a=r[1],c=Object(s.useState)(e.result.Oem.Custom.Duty),i=Object(f.a)(c,2),l=i[0],d=i[1],u=function(){return a(!1)};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(y.a,{variant:"outline-primary ml-2",size:"sm",onClick:function(){return a(!0)},children:"Set"}),Object(b.jsx)(y.a,{variant:"outline-success ml-2",size:"sm",onClick:function(){e.this.getApi(e.this.state.api)},children:"Refresh"}),Object(b.jsxs)(R.a,{show:n,onHide:u,animation:!1,children:[Object(b.jsx)(R.a.Header,{closeButton:!0,children:Object(b.jsx)(R.a.Title,{children:"Modal heading"})}),Object(b.jsx)(R.a.Body,{children:"Fan parameters"}),Object(b.jsxs)(R.a.Footer,{children:[Object(b.jsx)(C.a,{children:Object(b.jsxs)(C.a.Group,{controlId:"url",children:[Object(b.jsx)(C.a.Label,{children:"Duty (10~100)"}),Object(b.jsx)(C.a.Control,{type:"text",placeholder:"Duty",defaultValue:e.result.Oem.Custom.Duty,onChange:function(e){return d(e.target.value)}})]})}),Object(b.jsx)(y.a,{variant:"primary",onClick:function(){var t=e.this.defaultUrl+e.result["@odata.id"];t=t.replace("#",""),e.this.patchFanDuty(t,l),u()},children:"Apply"}),Object(b.jsx)(y.a,{variant:"secondary",onClick:u,children:"Close"})]})]})]})}function F(e){return Object(b.jsxs)(n.a.Fragment,{children:[Object(b.jsx)("td",{children:e.result.SensorNumber}),Object(b.jsx)("td",{children:e.result.Name}),Object(b.jsx)("td",{children:e.result.Reading}),Object(b.jsx)("td",{children:e.result.ReadingUnits}),Object(b.jsxs)("td",{children:[e.result.Oem.Custom.Duty,Object(b.jsx)(U,{this:e.this,result:e.result})]}),Object(b.jsxs)("td",{children:[e.result.Status.State,"/",e.result.Status.Health]})]})}function L(e){return Object(b.jsxs)(N.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Sensor#"}),Object(b.jsx)("th",{children:"Name"}),Object(b.jsx)("th",{children:"Reading"}),Object(b.jsx)("th",{children:"Unit"}),Object(b.jsx)("th",{children:"Action"}),Object(b.jsx)("th",{children:"Status"})]})}),Object(b.jsx)("tbody",{children:e.item.result.map((function(t){return Object(b.jsx)("tr",{children:Object(b.jsx)(F,{this:e.this,result:t},e.item.name)},t.Name+"tr")}))})]})}function D(e){var t=Object(s.useState)(!1),r=Object(f.a)(t,2),n=r[0],a=r[1],c=Object(s.useState)(e.result.Oem.Custom.Action),i=Object(f.a)(c,2),l=i[0],d=i[1],u=function(){return a(!1)};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(y.a,{variant:"outline-primary ml-2",size:"sm",onClick:function(){return a(!0)},children:"Set"}),Object(b.jsx)(y.a,{variant:"outline-success ml-2",size:"sm",onClick:function(){e.this.getApi(e.this.state.api)},children:"Refresh"}),Object(b.jsxs)(R.a,{show:n,onHide:u,animation:!1,children:[Object(b.jsx)(R.a.Header,{closeButton:!0,children:Object(b.jsx)(R.a.Title,{children:"Modal heading"})}),Object(b.jsx)(R.a.Body,{children:"LED parameters"}),Object(b.jsxs)(R.a.Footer,{children:[Object(b.jsx)(C.a,{children:Object(b.jsxs)(C.a.Group,{controlId:"url",children:[Object(b.jsx)(C.a.Label,{children:"Action (on / off)"}),Object(b.jsx)(C.a.Control,{type:"text",placeholder:"Action",defaultValue:e.result.Oem.Custom.Action,onChange:function(e){return d(e.target.value)}})]})}),Object(b.jsx)(y.a,{variant:"primary",onClick:function(){var t=e.this.defaultUrl+e.result["@odata.id"];t=t.replace("#",""),e.this.patchLedAction(t,l),u()},children:"Apply"}),Object(b.jsx)(y.a,{variant:"secondary",onClick:u,children:"Close"})]})]})]})}function W(e){return Object(b.jsxs)(n.a.Fragment,{children:[Object(b.jsx)("td",{children:e.result.SensorNumber}),Object(b.jsx)("td",{children:e.result.Name}),Object(b.jsx)("td",{children:e.result.Reading}),Object(b.jsx)("td",{children:e.result.ReadingUnits}),Object(b.jsxs)("td",{children:[e.result.Oem.Custom.Duty,Object(b.jsx)(D,{this:e.this,result:e.result})]}),Object(b.jsxs)("td",{children:[e.result.Status.State,"/",e.result.Status.Health]})]})}function M(e){return Object(b.jsxs)(N.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Sensor#"}),Object(b.jsx)("th",{children:"Name"}),Object(b.jsx)("th",{children:"Reading"}),Object(b.jsx)("th",{children:"Unit"}),Object(b.jsx)("th",{children:"Action"}),Object(b.jsx)("th",{children:"Status"})]})}),Object(b.jsx)("tbody",{children:e.item.result.map((function(t){return Object(b.jsx)("tr",{children:Object(b.jsx)(W,{this:e.this,result:t},e.item.name)},t.Name+"tr")}))})]})}function z(e){return Object(b.jsxs)(n.a.Fragment,{children:[Object(b.jsx)("td",{children:e.result.SensorNumber}),Object(b.jsx)("td",{children:e.result.Name}),Object(b.jsx)("td",{children:e.result.Reading}),Object(b.jsx)("td",{children:e.result.ReadingUnits}),Object(b.jsxs)("td",{children:[e.result.Status.State,"/",e.result.Status.Health]})]})}function B(e){return Object(b.jsxs)(N.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Sensor#"}),Object(b.jsx)("th",{children:"Name"}),Object(b.jsx)("th",{children:"Reading"}),Object(b.jsx)("th",{children:"Unit"}),Object(b.jsx)("th",{children:"Status"})]})}),Object(b.jsx)("tbody",{children:e.item.result.map((function(t){return Object(b.jsx)("tr",{children:Object(b.jsx)(z,{result:t},e.item.name)},t.Name+"tr")}))})]})}function H(e){return Object(b.jsxs)(n.a.Fragment,{children:[Object(b.jsx)("td",{children:e.result.SensorNumber}),Object(b.jsx)("td",{children:e.result.Name}),Object(b.jsx)("td",{children:e.result.ReadingVolts}),Object(b.jsxs)("td",{children:[e.result.Status.State,"/",e.result.Status.Health]})]})}function G(e){return Object(b.jsxs)(N.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Sensor#"}),Object(b.jsx)("th",{children:"Name"}),Object(b.jsx)("th",{children:"Reading"}),Object(b.jsx)("th",{children:"Status"})]})}),Object(b.jsx)("tbody",{children:e.result.map((function(e){return Object(b.jsx)("tr",{children:Object(b.jsx)(H,{result:e},e.Name)},e.Name+"tr")}))})]})}function J(e){return Object(b.jsxs)(n.a.Fragment,{children:[Object(b.jsx)("td",{children:e.result.Name}),Object(b.jsx)("td",{children:e.result.PowerSupplyType}),Object(b.jsx)("td",{children:e.result.LineInputVoltageType}),Object(b.jsx)("td",{children:e.result.LineInputVoltage}),Object(b.jsx)("td",{children:e.result.PowerCapacityWatts}),Object(b.jsx)("td",{children:e.result.LastPowerOutputWatts}),Object(b.jsx)("td",{children:e.result.PowerInputWatts}),Object(b.jsx)("td",{children:e.result.PowerOutputWatts})]})}function E(e){return Object(b.jsxs)(N.a,{striped:!0,bordered:!0,hover:!0,size:"sm",responsive:"xl",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Name"}),Object(b.jsx)("th",{children:"Power Supply Type"}),Object(b.jsx)("th",{children:"Line Input Voltage Type"}),Object(b.jsx)("th",{children:"Line Input Voltage"}),Object(b.jsx)("th",{children:"Power Capacity Watts"}),Object(b.jsx)("th",{children:"Last Power Output Watts"}),Object(b.jsx)("th",{children:"Power Input Watts"}),Object(b.jsx)("th",{children:"Power Output Watts"})]})}),Object(b.jsx)("tbody",{children:e.result.map((function(e){return Object(b.jsx)("tr",{children:Object(b.jsx)(J,{result:e},e.Name)},e.Name+"tr")}))})]})}function q(e){return Object(b.jsxs)(n.a.Fragment,{children:[Object(b.jsx)("td",{children:e.result.Name}),Object(b.jsx)("td",{children:e.result.Model}),Object(b.jsx)("td",{children:e.result.Manufacturer}),Object(b.jsx)("td",{children:e.result.FirmwareVersion}),Object(b.jsx)("td",{children:e.result.SerialNumber}),Object(b.jsx)("td",{children:e.result.PartNumber}),Object(b.jsx)("td",{children:e.result.SparePartNumber}),Object(b.jsxs)("td",{children:[e.result.Status.State,"/",e.result.Status.Health]})]})}function $(e){return Object(b.jsxs)(N.a,{striped:!0,bordered:!0,hover:!0,size:"sm",responsive:"xl",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Name"}),Object(b.jsx)("th",{children:"Model"}),Object(b.jsx)("th",{children:"Manufacturer"}),Object(b.jsx)("th",{children:"Version"}),Object(b.jsx)("th",{children:"Serial Number"}),Object(b.jsx)("th",{children:"Part Number"}),Object(b.jsx)("th",{children:"Spare Part Number"}),Object(b.jsx)("th",{children:"Status"})]})}),Object(b.jsx)("tbody",{children:e.result.map((function(e){return Object(b.jsx)("tr",{children:Object(b.jsx)(q,{result:e},e.Name)},e.Name+"tr")}))})]})}function K(e){return Object(b.jsxs)(n.a.Fragment,{children:[Object(b.jsx)("td",{children:e.result.Name}),Object(b.jsx)("td",{children:e.rangeIndex}),Object(b.jsx)("td",{children:e.range.InputType}),Object(b.jsx)("td",{children:e.range.MinimumVoltage}),Object(b.jsx)("td",{children:e.range.MaximumVoltage}),Object(b.jsx)("td",{children:e.range.MinimumFrequencyHz}),Object(b.jsx)("td",{children:e.range.MaximumFrequencyHz}),Object(b.jsx)("td",{children:e.range.OutputWattage})]})}function Q(e){return Object(b.jsx)(n.a.Fragment,{children:e.result.map((function(e,t){return Object(b.jsxs)(N.a,{striped:!0,bordered:!0,hover:!0,size:"sm",responsive:"xl",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Name"}),Object(b.jsx)("th",{children:"Range"}),Object(b.jsx)("th",{children:"InputType"}),Object(b.jsx)("th",{children:"MinimumVoltage"}),Object(b.jsx)("th",{children:"MaximumVoltage"}),Object(b.jsx)("th",{children:"MinimumFrequencyHz"}),Object(b.jsx)("th",{children:"MaximumFrequencyHz"}),Object(b.jsx)("th",{children:"OutputWattage"})]})}),Object(b.jsx)("tbody",{children:e.InputRanges.map((function(t,r){return Object(b.jsx)("tr",{children:Object(b.jsx)(K,{result:e,range:t,rangeIndex:r},t.Name)},e.Name+r+"tr")}))},e.Name+t+"tbody")]},e.Name+"table")}))})}function X(e){return Object(b.jsxs)(n.a.Fragment,{children:[Object(b.jsx)("br",{}),Object(b.jsx)(w.a,{pill:!0,variant:"secondary",children:"Voltages"},e.item.result.Name+".volt.badge"),Object(b.jsx)(G,{result:e.item.result.Voltages},e.item.result.Name+".volt"),Object(b.jsx)(w.a,{pill:!0,variant:"secondary",children:"Power Supplies"},e.item.result.Name+".psu.badge"),Object(b.jsx)(E,{result:e.item.result.PowerSupplies},e.item.result.Name+".psus1"),Object(b.jsx)($,{result:e.item.result.PowerSupplies},e.item.result.Name+".psus2"),Object(b.jsx)(Q,{result:e.item.result.PowerSupplies},e.item.result.Name+".psusRange")]})}function Y(e){return Object(b.jsxs)(n.a.Fragment,{children:[Object(b.jsx)("td",{children:e.result.Name}),Object(b.jsx)("td",{children:e.result.Manufacturer}),Object(b.jsx)("td",{children:e.result.Model}),Object(b.jsx)("td",{children:e.result.SerialNumber}),Object(b.jsx)("td",{children:e.result.ReadingCelsius}),Object(b.jsx)("td",{children:"Celsius"}),Object(b.jsx)("td",{children:(t=e.result.Status,void 0===t?"undefined":t.State+"/"+t.Health)})]});var t}function Z(e){return Object(b.jsxs)(N.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Name"}),Object(b.jsx)("th",{children:"Manufacturer"}),Object(b.jsx)("th",{children:"Model"}),Object(b.jsx)("th",{children:"SerialNumber"}),Object(b.jsx)("th",{children:"Reading"}),Object(b.jsx)("th",{children:"Unit"}),Object(b.jsx)("th",{children:"Status"})]})}),Object(b.jsx)("tbody",{children:Object(b.jsx)("tr",{children:Object(b.jsx)(Y,{result:e.item.result},e.item.name)},e.item.name+"tr")})]})}var _=function(e){Object(u.a)(r,e);var t=Object(o.a)(r);function r(e){var s;Object(l.a)(this,r),(s=t.call(this,e)).renderVersion=function(){return Object(b.jsx)(T,{this:Object(x.a)(s),item:s.state.api[0]},s.state.api[0].name+".table")},s.renderResult=function(){var e=[];if("data"===s.state.renderType)s.state.api.map((function(t){switch(t.name){case"Version":return null;case"Temperatures":case"Fans":case"Leds":case"Buttons":var r=Object.entries(t.result).length;if(r<=0)return null;for(var n=0;n<r;n++)if(void 0===t.result[n])return null;break;case"Power":if(Object.entries(t.result).length<=0)return null}return e.push(Object(b.jsx)(w.a,{pill:!0,variant:"dark",children:t.name},t.name+".name")),"Temperatures"===t.name?e.push(Object(b.jsx)(V,{this:Object(x.a)(s),item:t},t.name+".table")):"Fans"===t.name?e.push(Object(b.jsx)(L,{this:Object(x.a)(s),item:t},t.name+".table")):"Leds"===t.name?e.push(Object(b.jsx)(M,{this:Object(x.a)(s),item:t},t.name+".table")):"Buttons"===t.name?e.push(Object(b.jsx)(B,{this:Object(x.a)(s),item:t},t.name+".table")):"Power"===t.name?e.push(Object(b.jsx)(X,{this:Object(x.a)(s),item:t},t.name+".table")):t.name.startsWith("Ssds")&&e.push(Object(b.jsx)(Z,{this:Object(x.a)(s),item:t},t.name+t.id+".table")),null}));else{if("raw"!==s.state.renderType)return null;s.state.api.map((function(t){return e.push(Object(b.jsx)(w.a,{pill:!0,variant:"dark",children:t.name},t.name+t.id+".name")),e.push(Object(b.jsx)(S.a,{src:t.result},t.name+t.id+".json")),null}))}return Object(b.jsx)(k.a,{variant:"light",children:e})},s.renderRaw=function(){s.getApi(s.state.api),s.setState({renderType:"raw"})},s.renderData=function(){s.getApi(s.state.api),s.setState({renderType:"data"})},s.renderNone=function(){s.setState({renderType:"none"})},s.refreshData=function(){s.getApi(s.state.api)};var n=window.location.href.split("/"),a=n[0]+"//"+n[2];return s.defaultUrl=a,s.defaultUser="admin",s.defaultPassword="irene",s.defaultApi=[{name:"Version",url:s.defaultUrl+"/private/version",result:{}},{name:"Temperatures",url:s.defaultUrl+"/redfish/v1/Chassis/1/Thermal/Temperatures",result:{}},{name:"Leds",url:s.defaultUrl+"/redfish/v1/Chassis/1/Misc/Leds",result:{}},{name:"Buttons",url:s.defaultUrl+"/redfish/v1/Chassis/1/Misc/Buttons",result:{}},{name:"Fans",url:s.defaultUrl+"/redfish/v1/Chassis/1/Thermal/Fans",result:{}},{name:"Power",url:s.defaultUrl+"/redfish/v1/Chassis/1/Power",result:{}}],s.state={url:s.defaultUrl,user:s.defaultUser,password:s.defaultPassword,api:s.defaultApi,renderType:"data"},s}return Object(d.a)(r,[{key:"componentDidMount",value:function(){for(var e=0;e<24;e++){var t={name:"Ssds"+e,url:this.defaultUrl+"/redfish/v1/Systems/Newell/Ssd/"+e,result:{}};this.state.api.push(t)}this.getApi(this.state.api)}},{key:"patchFanDuty",value:function(e,t){return v.a.patch(e,{Duty:t},{auth:{username:this.state.user,password:this.state.password}}).then((function(e){console.log("res=",e)})).catch((function(e){console.log(e)})),null}},{key:"patchLedAction",value:function(e,t){return v.a.patch(e,{Action:t},{auth:{username:this.state.user,password:this.state.password}}).then((function(e){console.log("res=",e)})).catch((function(e){console.log(e)})),null}},{key:"getApi",value:function(e){var t=this;e.map((function(r,s){return v.a.get(r.url,{auth:{username:t.state.user,password:t.state.password}}).then((function(r){var n=r.data,a=e;a[s].result=n,t.setState({api:a})})).catch((function(e){console.log(e)})),null}))}},{key:"render",value:function(){return Object(b.jsx)("div",{children:Object(b.jsx)(P.a,{style:{width:"100vw"},children:Object(b.jsxs)(P.a.Body,{children:[Object(b.jsx)(P.a.Header,{as:"h5",children:"Dashboard"}),Object(b.jsxs)(I.a,{children:[Object(b.jsx)(y.a,{variant:"primary ml-4 mt-2 mr-2 md-2",onClick:this.renderData,children:"Show Data"}),Object(b.jsx)(y.a,{variant:"warning mt-2 mr-2 md-2",onClick:this.renderRaw,children:"Show Raw"}),Object(b.jsx)(y.a,{variant:"danger mt-2 mr-2 md-2",onClick:this.renderNone,children:"Clear"}),Object(b.jsx)(y.a,{variant:"success mt-2 mr-2 md-2",onClick:this.refreshData,children:"Refresh"})]}),Object(b.jsxs)("div",{style:{margin:20},id:"renderResult",children:[this.renderVersion(),this.renderResult()]})]})})})}}]),r}(s.Component),ee=r(364),te=r(401),re=r(126),se=r(178),ne=(r(460),function(e){Object(u.a)(r,e);var t=Object(o.a)(r);function r(){var e;Object(l.a)(this,r),(e=t.call(this)).useStyles=function(){return Object(ee.a)({table:{minWidth:6500}})};var s=window.location.href.split("/");return e.defaultEndpoint="ws://admin:irene@"+s[2]+"/private/logsocket",console.log(e.defaultEndpoint),e.state={platStdio:"",platStderr:"",serverStdio:"",serverStderr:"",response:"",endpoint:e.defaultEndpoint},e.platStdioTerm=n.a.createRef(),e.platStderrTerm=n.a.createRef(),e.serverStdioTerm=n.a.createRef(),e.serverStderrTerm=n.a.createRef(),e}return Object(d.a)(r,[{key:"componentDidMount",value:function(){this.getPlatStdio(),this.getPlatStderr(),this.getServerStdio(),this.getServerStderr()}},{key:"componentDidUpdate",value:function(){}},{key:"getPlatStdio",value:function(){var e=this,t=new se.Terminal;t.open(this.platStdioTerm);var r=new WebSocket(this.state.endpoint);r.onopen=function(){r.send("plat-stdio")},r.onmessage=function(r){console.log("Received Message: "+r.data),e.setState({platStdio:r.data}),t.write(r.data+"\n\r")},r.onclose=function(e){console.log("close:"+e)}}},{key:"getPlatStderr",value:function(){var e=this,t=new se.Terminal;t.open(this.platStderrTerm);var r=new WebSocket(this.state.endpoint);r.onopen=function(){r.send("plat-stderr")},r.onmessage=function(r){console.log("Received Message: "+r.data),e.setState({platStderr:r.data}),t.write(r.data+"\n\r")},r.onclose=function(e){console.log("close:"+e)}}},{key:"getServerStdio",value:function(){var e=this,t=new se.Terminal;t.open(this.serverStdioTerm);var r=new WebSocket(this.state.endpoint);r.onopen=function(){r.send("server-stdio")},r.onmessage=function(r){console.log("Received Message: "+r.data),e.setState({serverStdio:r.data}),t.write(r.data+"\n\r")},r.onclose=function(){console.log("close:")}}},{key:"getServerStderr",value:function(){var e=this,t=new se.Terminal;t.open(this.serverStderrTerm);var r=new WebSocket(this.state.endpoint);r.onopen=function(){r.send("server-stderr")},r.onmessage=function(r){console.log("Received Message: "+r.data),e.setState({serverStderr:r.data}),t.write(r.data+"\n\r")},r.onclose=function(e){console.log("close:"+e)}}},{key:"render",value:function(){var e=this;return Object(b.jsx)("div",{children:Object(b.jsxs)(te.a,{fluid:!0,children:[Object(b.jsx)(I.a,{children:Object(b.jsxs)(re.a,{children:[Object(b.jsx)("p",{children:"Plat: stdio"}),Object(b.jsx)("div",{ref:function(t){return e.platStdioTerm=t}})]})}),Object(b.jsx)("br",{}),Object(b.jsx)(I.a,{children:Object(b.jsxs)(re.a,{children:[Object(b.jsx)("p",{children:"Plat: stderr"}),Object(b.jsx)("div",{ref:function(t){return e.platStderrTerm=t}})]})}),Object(b.jsx)(I.a,{children:Object(b.jsxs)(re.a,{children:[Object(b.jsx)("p",{children:"Plat: stdio"}),Object(b.jsx)("div",{ref:function(t){return e.serverStdioTerm=t}})]})}),Object(b.jsx)("br",{}),Object(b.jsx)(I.a,{children:Object(b.jsxs)(re.a,{children:[Object(b.jsx)("p",{children:"Plat: stderr"}),Object(b.jsx)("div",{ref:function(t){return e.serverStderrTerm=t}})]})})]})})}}]),r}(s.Component));function ae(e){return e.status===e.this.statusOk?Object(b.jsxs)(k.a,{variant:"success",children:["Test Server: ",e.status]}):e.status===e.statusFail?Object(b.jsxs)(k.a,{variant:"danger",children:["Test Server: ",e.status]}):Object(b.jsxs)(k.a,{variant:"info",children:["Test Server: ",e.status]})}var ce=function(e){Object(u.a)(r,e);var t=Object(o.a)(r);function r(e){var s;Object(l.a)(this,r),(s=t.call(this,e)).checkServer=function(){v.a.get("http://"+s.state.ip+"/redfish/v1",{auth:{username:s.state.user,password:s.state.password}}).then((function(e){console.log(e.data),s.setState({serverStatus:s.statusOk})})).catch((function(e){console.log("axios error: "+e),s.setState({serverStatus:s.statusFail})}))},s.checkDatabase=function(){v.a.get("http://"+s.state.ip+"/private/db",{auth:{username:s.state.user,password:s.state.password}}).then((function(e){console.log(e.data),s.setState({dbStatus:s.statusOk})})).catch((function(e){console.log("axios error: "+e),s.setState({dbStatus:s.statusFail})}))},s.checkPlatform=function(){v.a.get("http://"+s.state.ip+"/private/rpc",{auth:{username:s.state.user,password:s.state.password}}).then((function(e){console.log(e.data),s.setState({platStatus:s.statusOk})})).catch((function(e){console.log("axios error: "+e),s.setState({platStatus:s.statusFail})}))},s.handleUrlChange=function(e){s.setState({url:e.target.value})},s.handleIpChange=function(e){s.setState({ip:e.target.value})},s.handleUserChange=function(e){s.setState({user:e.target.value})},s.handlePasswordChange=function(e){s.setState({password:e.target.value})},s.handleSubmit=function(e){s.checkServer(),s.checkDatabase(),s.checkPlatform(),e.preventDefault()},s.getResult=function(){v.a.get(s.state.url,{auth:{username:s.state.user,password:s.state.password}}).then((function(e){var t=e.data;console.log(t),s.setState({result:t})})).catch((function(e){console.log(e)}))};var n=window.location.href.split("/");return s.defaultIp=n[2],s.defaultUrl="http://"+s.defaultIp+"/redfish/v1",s.defaultUser="admin",s.defaultPassword="irene",s.defaultResult="None",s.defaultStatus="Unknown",s.statusOk="Ok",s.statusFail="Fail",s.state={url:s.defaultUrl,ip:s.defaultIp,user:s.defaultUser,password:s.defaultPassword,result:s.defaultResult,serverStatus:s.defaultStatus,dbStatus:s.defaultStatus,platStatus:s.defaultStatus},s}return Object(d.a)(r,[{key:"componentDidMount",value:function(){var e=window.location.href.split("/"),t=e[0]+"//"+e[2];console.log(t)}},{key:"renderStatus",value:function(){return Object(b.jsxs)("div",{style:{paddingTop:10,paddingBottom:10},children:[Object(b.jsx)(ae,{this:this,status:this.state.serverStatus}),Object(b.jsx)(ae,{this:this,status:this.state.dbStatus}),Object(b.jsx)(ae,{this:this,status:this.state.platStatus})]})}},{key:"renderResult",value:function(){return this.state.result===this.defaultResult?Object(b.jsx)("div",{style:{paddingTop:10,paddingBottom:10}}):Object(b.jsx)("div",{style:{paddingTop:10,paddingBottom:10},children:Object(b.jsx)(S.a,{src:this.state.result})})}},{key:"render",value:function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)(P.a,{border:"primary mb-2",style:{width:"32rem"},children:Object(b.jsxs)(P.a.Body,{children:[Object(b.jsx)(P.a.Header,{as:"h5",children:"Setting"}),Object(b.jsxs)(C.a,{onSubmit:this.handleSubmit,children:[Object(b.jsxs)(C.a.Group,{controlId:"ip",children:[Object(b.jsx)(C.a.Label,{children:"IP"}),Object(b.jsx)(C.a.Control,{type:"text",placeholder:"Server IP",defaultValue:this.defaultIp,onChange:this.handleIpChange})]}),Object(b.jsxs)(C.a.Group,{controlId:"user",children:[Object(b.jsx)(C.a.Label,{children:"User"}),Object(b.jsx)(C.a.Control,{type:"text",placeholder:"Basic auth user",defaultValue:this.defaultUser,onChange:this.handleUserChange})]}),Object(b.jsxs)(C.a.Group,{controlId:"password",children:[Object(b.jsx)(C.a.Label,{children:"Password"}),Object(b.jsx)(C.a.Control,{type:"password",placeholder:"Basic auth Password",defaultValue:this.defautPassword,onChange:this.handlePasswordChange})]}),Object(b.jsx)(y.a,{variant:"primary mb-2",type:"submit",children:"Run"}),Object(b.jsx)(P.a.Footer,{children:this.renderStatus()})]})]})}),Object(b.jsx)(P.a,{border:"primary",children:Object(b.jsxs)(P.a.Body,{children:[Object(b.jsx)(P.a.Header,{as:"h5",children:"Test"}),Object(b.jsx)(C.a,{children:Object(b.jsxs)(C.a.Group,{controlId:"url",children:[Object(b.jsx)(C.a.Label,{children:"URL"}),Object(b.jsx)(C.a.Control,{type:"text",placeholder:"Server IP",defaultValue:this.defaultUrl,onChange:this.handleUrlChange})]})}),Object(b.jsx)(y.a,{variant:"primary mb-2",type:"submit",onClick:this.getResult,children:"Get"}),Object(b.jsx)(P.a.Footer,{children:this.renderResult()})]})})]})}}]),r}(s.Component),ie=r(19),le=r(231),de=r.n(le),ue=r(405),oe=r.n(ue),je=r(415),he=r.n(je),be=r(406),Oe=r.n(be),pe=r(413),fe=r.n(pe),xe=r(288),me=r.n(xe),ve=r(287),ge=r.n(ve),Se=r(407),we=r.n(Se),ye=r(408),Pe=r.n(ye),ke=r(410),Ie=r.n(ke),Ne=r(411),Re=r.n(Ne),Ce=r(412),Te=r.n(Ce),Ae=r(416),Ve=r.n(Ae),Ue=r(409),Fe=r.n(Ue),Le=r(414),De=r.n(Le),We=r(417),Me=r.n(We),ze=r(289),Be=r.n(ze),He=r(418),Ge=r.n(He),Je=r(290),Ee=r.n(Je),qe=r(379),$e={Add:Object(s.forwardRef)((function(e,t){return Object(b.jsx)(oe.a,Object(ie.a)(Object(ie.a)({},e),{},{ref:t}))})),Check:Object(s.forwardRef)((function(e,t){return Object(b.jsx)(Oe.a,Object(ie.a)(Object(ie.a)({},e),{},{ref:t}))})),Clear:Object(s.forwardRef)((function(e,t){return Object(b.jsx)(ge.a,Object(ie.a)(Object(ie.a)({},e),{},{ref:t}))})),Delete:Object(s.forwardRef)((function(e,t){return Object(b.jsx)(we.a,Object(ie.a)(Object(ie.a)({},e),{},{ref:t}))})),DetailPanel:Object(s.forwardRef)((function(e,t){return Object(b.jsx)(me.a,Object(ie.a)(Object(ie.a)({},e),{},{ref:t}))})),Edit:Object(s.forwardRef)((function(e,t){return Object(b.jsx)(Pe.a,Object(ie.a)(Object(ie.a)({},e),{},{ref:t}))})),Export:Object(s.forwardRef)((function(e,t){return Object(b.jsx)(Fe.a,Object(ie.a)(Object(ie.a)({},e),{},{ref:t}))})),Filter:Object(s.forwardRef)((function(e,t){return Object(b.jsx)(Ie.a,Object(ie.a)(Object(ie.a)({},e),{},{ref:t}))})),FirstPage:Object(s.forwardRef)((function(e,t){return Object(b.jsx)(Re.a,Object(ie.a)(Object(ie.a)({},e),{},{ref:t}))})),LastPage:Object(s.forwardRef)((function(e,t){return Object(b.jsx)(Te.a,Object(ie.a)(Object(ie.a)({},e),{},{ref:t}))})),NextPage:Object(s.forwardRef)((function(e,t){return Object(b.jsx)(me.a,Object(ie.a)(Object(ie.a)({},e),{},{ref:t}))})),PreviousPage:Object(s.forwardRef)((function(e,t){return Object(b.jsx)(fe.a,Object(ie.a)(Object(ie.a)({},e),{},{ref:t}))})),ResetSearch:Object(s.forwardRef)((function(e,t){return Object(b.jsx)(ge.a,Object(ie.a)(Object(ie.a)({},e),{},{ref:t}))})),Search:Object(s.forwardRef)((function(e,t){return Object(b.jsx)(De.a,Object(ie.a)(Object(ie.a)({},e),{},{ref:t}))})),SortArrow:Object(s.forwardRef)((function(e,t){return Object(b.jsx)(he.a,Object(ie.a)(Object(ie.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(s.forwardRef)((function(e,t){return Object(b.jsx)(Ve.a,Object(ie.a)(Object(ie.a)({},e),{},{ref:t}))})),ViewColumn:Object(s.forwardRef)((function(e,t){return Object(b.jsx)(Me.a,Object(ie.a)(Object(ie.a)({},e),{},{ref:t}))})),RotateLeft:Object(s.forwardRef)((function(e,t){return Object(b.jsx)(Be.a,Object(ie.a)(Object(ie.a)({},e),{},{ref:t}))})),RotateLeftSec:Object(s.forwardRef)((function(e,t){return Object(b.jsx)(Be.a,Object(ie.a)(Object(ie.a)({color:"secondary"},e),{},{ref:t}))})),Power:Object(s.forwardRef)((function(e,t){return Object(b.jsx)(Ee.a,Object(ie.a)(Object(ie.a)({},e),{},{ref:t}))})),PowerSec:Object(s.forwardRef)((function(e,t){return Object(b.jsx)(Ee.a,Object(ie.a)(Object(ie.a)({color:"secondary"},e),{},{ref:t}))})),Refresh:Object(s.forwardRef)((function(e,t){return Object(b.jsx)(Ge.a,Object(ie.a)(Object(ie.a)({},e),{},{ref:t}))}))};function Ke(e){var t=[],r=[],s="172.16.177.79:8880";return e.this.state.api.map((function(e,t){return 0===Object.keys(e.result).length||0===Object.keys(e.result.Port).length||e.result.Port.map((function(e,s){return 0===Object.keys(e.Vlan).length||e.Vlan.map((function(n,a){return function(e,t,r,s,n,a){var c={ssdId:t,portId:r,vlanId:s,ipv4Address:n.Ipv4.Address,ipv4Gateway:n.Ipv4.Gateway,ipv4Netmask:n.Ipv4.Mask,ipv6Address:n.Ipv6.Address,ipv6Prefix:n.Ipv6.Prefix,ipv6PrefixLen:n.Ipv6.PrefixLen,vlanType:a.Type,vlanVid:a.Vid,vlanPcp:a.PCP,vlanIpv4:a.Ipv4Address,vlanIpv6:a.Ipv6Address};e.push(c)}(r,t,s,a,e,n),null})),null})),null})),t.push(Object(b.jsx)("div",{style:{maxWidth:"100%"},children:Object(b.jsx)(de.a,{icons:$e,pageSize:8,pageSizeOptions:[8,16,24,32],columns:[{field:"ssdId",title:"eSSD",editable:"never"},{field:"portId",title:"Port",editable:"never"},{field:"vlanId",title:"Vlan",editable:"never"},{field:"ipv4Address",title:"IPv4"},{field:"ipv4Netmask",title:"Netmask"},{field:"ipv4Gateway",title:"Gateway"},{field:"ipv6Address",title:"IPv6"},{field:"ipv6Prefix",title:"Prefix"},{field:"ipv6PrefixLen",title:"Prefix Length"},{field:"vlanType",title:"Vlan Type"},{field:"vlanVid",title:"Vlan Vid"},{field:"vlanPcp",title:"Vlan Pcp"},{field:"vlanIpv4",title:"Vlan Ipv4"},{field:"vlanIpv6",title:"Vlan Ipv6"}],data:r,title:"eSSD Network Config",editable:{onRowUpdate:function(t,r){return new Promise((function(r,s){!function(e,t){var r=t.ssdId,s=t.portId,n=t.vlanId;if(0===Object.keys(e.state.api[r].result).length)return console.log("the api object is empty"),null;var a=JSON.parse(JSON.stringify(e.state.api[r].result));"undefined"!=typeof t.ipv4Address&&(a.Port[s].Ipv4.Address=t.ipv4Address),"undefined"!=typeof t.ipv4Netmask&&(a.Port[s].Ipv4.Mask=t.ipv4Netmask),"undefined"!=typeof t.ipv4Gateway&&(a.Port[s].Ipv4.Gateway=t.ipv4Gateway),"undefined"!=typeof t.ipv6Address&&(a.Port[s].Ipv6.Address=t.ipv6Address),"undefined"!=typeof t.ipv6Prefix&&(a.Port[s].Ipv6.Prefix=t.ipv6Prefix),"undefined"!=typeof t.ipv6PrefixLen&&(a.Port[s].Ipv6.PrefixLen=t.ipv6PrefixLen),"undefined"!=typeof t.vlanType&&(a.Port[s].Vlan[n].Type=t.vlanType),"undefined"!=typeof t.vlanVid&&(a.Port[s].Vlan[n].Vid=t.vlanVid),"undefined"!=typeof t.vlanPcp&&(a.Port[s].Vlan[n].PCP=t.vlanPcp),"undefined"!=typeof t.vlanIpv4&&(a.Port[s].Vlan[n].Ipv4Address=t.vlanIpv4),"undefined"!=typeof t.vlanIpv6&&(a.Port[s].Vlan[n].Ipv6Address=t.vlanIpv6),e.putApiWithId(r,a)}(e.this,t),r()}))}},options:{grouping:!0,pageSize:8,pageSizeOptions:[8,16,24,32,64,96]},components:{Toolbar:function(e){return Object(b.jsxs)("div",{children:[Object(b.jsx)(le.MTableToolbar,Object(ie.a)({},e)),Object(b.jsx)("div",{style:{padding:"0px 10px"},children:Object(b.jsx)(qe.a,{id:"outlined-basic",label:"Enter peer SWM IP",defaultValue:s,onChange:function(e){s=e.target.value}})})]})}},actions:[{icon:$e.Power,tooltip:"Reset eSSD",onClick:function(t,r){var s="http://"+e.this.defaultIp+"/redfish/v1/Systems/Irene/Ssd/"+r.ssdId;e.this.resetSsdWithUrl(s,r.ssdId,{Action:"reset"})}},{icon:$e.PowerSec,tooltip:"Reset peer eSSD",onClick:function(t,r){var n="http://"+s+"/redfish/v1/Systems/Irene/Ssd/"+r.ssdId;e.this.resetSsdWithUrl(n,r.ssdId,{Action:"reset"})}},{icon:$e.Refresh,tooltip:"Refresh setting",onClick:function(t,r){e.this.getApiWithId(r.ssdId)}}]})},"NetworkRoot")),Object(b.jsx)("div",{children:t})}var Qe=function(e){Object(u.a)(r,e);var t=Object(o.a)(r);function r(e){var s;Object(l.a)(this,r),s=t.call(this,e);var n=window.location.href.split("/");s.defaultIp=n[2],s.defaultUrl="http://"+s.defaultIp,s.defaultUser="admin",s.defaultPassword="irene",s.defaultApi=[];for(var a=0;a<24;a++)s.defaultApi.push({name:"NetworkConfig"+a,url:s.defaultUrl+"/redfish/v1/Systems/Irene/Ssd/"+a+"/NetworkConfig",result:{}});return s.state={url:s.defaultUrl,user:s.defaultUser,password:s.defaultPassword,api:s.defaultApi},s}return Object(d.a)(r,[{key:"componentDidMount",value:function(){return this.getApi(),null}},{key:"getApi",value:function(){var e=this;this.state.api.map((function(t,r){return v.a.get(t.url,{auth:{username:e.state.user,password:e.state.password}}).then((function(t){var s=JSON.parse(JSON.stringify(e.state.api));s[r].result=t.data,e.setState({api:s})})).catch((function(e){console.log(e)})),null}))}},{key:"getApiWithId",value:function(e){var t=this;this.state.api.map((function(r,s){return e===s?(v.a.get(r.url,{auth:{username:t.state.user,password:t.state.password}}).then((function(e){var r=JSON.parse(JSON.stringify(t.state.api));r[s].result=e.data,t.setState({api:r})})).catch((function(e){console.log(e)})),null):null}))}},{key:"resetSsdWithUrl",value:function(e,t,r){console.log("Reset ssd:",t," url:",e),v.a.patch(e,r,{auth:{username:this.state.user,password:this.state.password}}).then((function(e){console.log("patch res="+JSON.stringify(e))})).catch((function(e){console.log(e)}))}},{key:"patchApiWithIdAndWait",value:function(e,t){var r=this;return this.state.api.map((function(s,n){return e===n&&v.a.patch(s.url,t,{auth:{username:r.state.user,password:r.state.password}}).then((function(t){var s=0,n=setInterval((function(){r.getApiWithId(e),s>=10&&clearInterval(n),s++}),1e3)})).catch((function(e){console.log(e)})),null})),null}},{key:"putApiWithIdAndWait",value:function(e,t){var r=this;this.state.api.map((function(s,n){return e===n&&v.a.put(s.url,t,{auth:{username:r.state.user,password:r.state.password}}).then((function(t){var s=0,n=setInterval((function(){r.getApiWithId(e),s>10&&clearInterval(n),s++}),1e3)})).catch((function(e){console.log(e)})),null}))}},{key:"putApiWithId",value:function(e,t){var r=this;this.state.api.map((function(s,n){return e===n&&v.a.put(s.url,t,{auth:{username:r.state.user,password:r.state.password}}).then((function(e){var s=JSON.parse(JSON.stringify(r.state.api));s[n].result=t,r.setState({api:s})})).catch((function(e){console.log(e)})),null}))}},{key:"render",value:function(){return Object(b.jsx)(Ke,{this:this})}}]),r}(s.Component);var Xe=function(){return Object(b.jsxs)(n.a.Fragment,{children:[Object(b.jsx)(p,{}),Object(b.jsxs)("main",{className:"container",children:[Object(b.jsx)(i.a,{path:"/",exact:!0,component:_}),Object(b.jsx)(i.a,{path:"/network",exact:!0,component:Qe}),Object(b.jsx)(i.a,{path:"/log",exact:!0,component:ne}),Object(b.jsx)(i.a,{path:"/test",component:ce})]})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r(529);var Ye=r(285);c.a.render(Object(b.jsx)(Ye.a,{children:Object(b.jsx)(i.c,{children:Object(b.jsx)(Xe,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[530,1,2]]]);
//# sourceMappingURL=main.867d6ef3.chunk.js.map